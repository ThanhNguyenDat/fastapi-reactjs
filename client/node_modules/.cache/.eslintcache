[{"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/index.js":"1","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/reportWebVitals.js":"2","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/App1.js":"3","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/App.js":"4","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/GlobalStyles/index.js":"5","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/pages/HomePage/index.js":"6","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/pages/ImageObjectDetection/index.js":"7","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/pages/Chatbot/index.js":"8","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/routes/index.js":"9","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/DefaultLayout/index.js":"10","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/DefaultLayout/Sidebar/index.js":"11","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/index.js":"12","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/HeaderOnly/index.js":"13","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/components/Header/index.js":"14","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/assets/images/index.js":"15"},{"size":611,"mtime":1667319328027,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1667224805016,"results":"18","hashOfConfig":"17"},{"size":3875,"mtime":1667226826851,"results":"19","hashOfConfig":"17"},{"size":1258,"mtime":1667412915270,"results":"20","hashOfConfig":"17"},{"size":115,"mtime":1667318662193,"results":"21","hashOfConfig":"17"},{"size":157,"mtime":1667230992378,"results":"22","hashOfConfig":"17"},{"size":4002,"mtime":1667319108834,"results":"23","hashOfConfig":"17"},{"size":4886,"mtime":1667319199662,"results":"24","hashOfConfig":"17"},{"size":491,"mtime":1667322858461,"results":"25","hashOfConfig":"17"},{"size":571,"mtime":1667324478231,"results":"26","hashOfConfig":"17"},{"size":232,"mtime":1667324495178,"results":"27","hashOfConfig":"17"},{"size":113,"mtime":1667321460878,"results":"28","hashOfConfig":"17"},{"size":337,"mtime":1667324546823,"results":"29","hashOfConfig":"17"},{"size":1340,"mtime":1667409794608,"results":"30","hashOfConfig":"17"},{"size":84,"mtime":1667403447163,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},"1pyg8jh",{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"35"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"35"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/index.js",[],[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/reportWebVitals.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/App1.js",[],["80","81","82"],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/App.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/GlobalStyles/index.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/pages/HomePage/index.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/pages/ImageObjectDetection/index.js",["83"],["84","85","86"],"import ImageObjectDetectionCss from './ImageObjectDetection.css';\n\nimport axios from \"axios\";\nimport React, { useEffect, useState, useRef } from \"react\";\n\nfunction ImageObjectDetection() {\n  // const [url, setUrl] = useState();\n  const [image, setImage] = useState();\n  const [result, setResult] = useState([]);\n  const [imgW, setImgW] = useState(1000);\n  const [imgH, setImgH] = useState(1000);\n  \n  const canvas_ref = useRef();\n\n  const img = new Image();\n\n  useEffect(() => {\n    call_api(image);\n    \n    img.addEventListener(\"load\", loadImage)\n\n    // Cleanup event\n    return () => {\n      img.removeEventListener(\"load\", loadImage);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [image])\n\n  useEffect(() => {\n    // const c = document.getElementById(\"canvas-img\");\n    const c = canvas_ref.current;\n    \n    c.width = c.clientWidth;\n    c.height = c.clientHeight;\n\n    const ctx = c.getContext(\"2d\");\n    if (result.length === 0) return\n    // Why call 3 times???\n    console.log(\"ctx: \", ctx);\n\n    // load img and drawing box\n    const onLoad = () => {\n      var scale = Math.min(c.width / imgW, c.height / imgH);\n      var x = (c.width / 2) - (imgW / 2) * scale;\n      var y = (c.height / 2) - (imgH / 2) * scale;\n      ctx.drawImage(img, x, y, imgW * scale, imgH * scale);\n\n      if (result) {\n        // // draw box\n\n        // Drawing box\n        var boxs = result.data.result\n        console.log(boxs);\n\n        // DRAW\n        ctx.beginPath();\n\n        // eslint-disable-next-line array-callback-return\n        boxs.map(box => {\n          ctx.strokeStyle = 'red';\n          ctx.lineWidth = 1;\n          \n          // ctx.rect(x + box.xmin * scale, y + box.ymin * scale, (box.xmax - box.xmin) * scale, (box.ymax - box.ymin) * scale);\n          ctx.moveTo(x + box.xmin * scale, y + box.ymin * scale);\n          ctx.lineTo(x + box.xmax * scale, y + box.ymin * scale);\n          ctx.lineTo(x + box.xmax * scale, y + box.ymax * scale);\n          ctx.lineTo(x + box.xmin * scale, y + box.ymax * scale);\n          ctx.lineTo(x + box.xmin * scale, y + box.ymin * scale);\n        })\n\n        ctx.stroke();\n        console.log(\"DRAWED\");\n      }\n    }\n\n    img.addEventListener(\"load\", onLoad)\n    img.src = image.url;\n    // // initial and getsize image\n\n\n    // Cleanup event and fill canvas\n    return () => {\n      img.removeEventListener(\"load\", onLoad)\n      ctx.beginPath();\n      ctx.rect(0, 0, c.width, c.height);\n      ctx.fillStyle = \"#ffffff\";\n      ctx.fill();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [result, image])\n\n\n  /* This useEffect's used when remove url after upload new image  */\n  // useEffect(() => {\n  //   // Cleanup\n  //   return () => {\n  //     image && URL.revokeObjectURL(image.url);\n  //   }\n  // }, [image])\n\n  function handleChange(event) {\n    const file = event.target.files[0];\n    if (file) {\n      file.url = URL.createObjectURL(file);\n      setImage(file);\n    }\n  }\n\n  function onPredict(event) {\n    console.log(\"Result onPredict: \", result);\n  }\n\n  const call_api = async (image) => {\n    // call api\n    const formData = new FormData();\n\n    if (image) {\n      formData.append(\n        'image',\n        image,\n        image.name\n      )\n\n      const url = \"http://127.0.0.1:8000/objectdetection\";\n      const data = await axios.post(url, formData); // using with await\n      setResult(data);\n      console.log(\"Called API\");\n    }\n  }\n\n  const loadImage = () => {\n    setImgH(img.height);\n    setImgW(img.width);\n  }\n\n  return (\n    <div className=\"App\">\n      <input id=\"imgInp\" accept=\"image/*\" type=\"file\" onChange={handleChange} />\n      <p />\n      <button onClick={onPredict}>Predict Vô Console coi result thôi nhé các anh =]]]!</button>\n      <p />\n      <div className='image'>\n        <canvas\n          id=\"canvas-img\"\n          style={{ width: \"100vw\", height: \"80vh\" }}\n          ref = {canvas_ref}\n        />\n      </div>\n\n    </div>\n  );\n}\n\nexport default ImageObjectDetection;\n","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/pages/Chatbot/index.js",["87"],[],"import \"./chatBot.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { IoMdSend } from \"react-icons/io\";\nimport { BiBot, BiUser } from \"react-icons/bi\";\nimport { axios } from \"axios\";\n\nfunction UIChatbot() {\n  const [chat, setChat] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [botTyping, setbotTyping] = useState(false);\n\n  useEffect(() => {\n    console.log(\"called\");\n    const objDiv = document.getElementById(\"messageArea\");\n    objDiv.scrollTop = objDiv.scrollHeight;\n  }, [chat]);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    const name = \"Thành Nè\";\n    const request_temp = { sender: \"user\", sender_id: name, msg: inputMessage };\n\n    if (inputMessage !== \"\") {\n      setChat((chat) => [...chat, request_temp]);\n      setbotTyping(true);\n      setInputMessage(\"\");\n      rasaAPI(name, inputMessage);\n    } else {\n      window.alert(\"Please enter valid message\");\n    }\n  };\n\n  const rasaAPI = async function handleClick(name, msg) {\n    //chatData.push({sender : \"user\", sender_id : name, msg : msg});\n\n    // em có sài axios bên ImageObjectDetect tương tự như bên này anh xem thử\n    // cái này em viết bằng cách truyền thống sài jquery thôi\n    await fetch(\"http://localhost:5055/webhooks/rest/webhook\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        charset: \"UTF-8\",\n      },\n\n      credentials: \"same-origin\",\n      body: JSON.stringify({ sender: name, message: msg }),\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        if (response) {\n          const temp = response[0];\n          const recipient_id = temp[\"recipient_id\"];\n          const recipient_msg = temp[\"text\"];\n\n          const response_temp = {\n            sender: \"bot\",\n            recipient_id: recipient_id,\n            msg: recipient_msg,\n          };\n          setbotTyping(false);\n\n          setChat((chat) => [...chat, response_temp]);\n          // scrollBottom();\n        }\n      });\n  };\n\n  console.log(chat);\n\n  const stylecard = {\n    maxWidth: \"35rem\",\n    border: \"1px solid black\",\n    paddingLeft: \"0px\",\n    paddingRight: \"0px\",\n    borderRadius: \"30px\",\n    boxShadow: \"0 16px 20px 0 rgba(0,0,0,0.4)\",\n  };\n  const styleHeader = {\n    height: \"4.5rem\",\n    borderBottom: \"1px solid black\",\n    borderRadius: \"30px 30px 0px 0px\",\n    backgroundColor: \"#8012c4\",\n  };\n  const styleFooter = {\n    //maxWidth : '32rem',\n    borderTop: \"1px solid black\",\n    borderRadius: \"0px 0px 30px 30px\",\n    backgroundColor: \"#8012c4\",\n  };\n  const styleBody = {\n    paddingTop: \"10px\",\n    height: \"28rem\",\n    overflowY: \"a\",\n    overflowX: \"hidden\",\n  };\n\n  return (\n    <div>\n      {/* <button onClick={()=>rasaAPI(\"shreyas\",\"hi\")}>Try this</button> */}\n\n      <div className=\"container\">\n        <div className=\"row justify-content-center\">\n          <div className=\"card\" style={stylecard}>\n            <div className=\"cardHeader text-white\" style={styleHeader}>\n              <h1 style={{ marginBottom: \"0px\" }}>Rasa Bot</h1>\n              {botTyping ? <h6>Bot Typing....</h6> : null}\n            </div>\n\n            <div className=\"cardBody\" id=\"messageArea\" style={styleBody}>\n              <div className=\"row msgarea\">\n                {chat.map((user, key) => (\n                  <div key={key}>\n                    {user.sender === \"bot\" ? (\n                      <div className=\"msgalignstart\">\n                        <BiBot className=\"botIcon\" />\n                        <h5 className=\"botmsg\">{user.msg}</h5>\n                      </div>\n                    ) : (\n                      <div className=\"msgalignend\">\n                        <h5 className=\"usermsg\">{user.msg}</h5>\n                        <BiUser className=\"userIcon\" />\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"cardFooter text-white\" style={styleFooter}>\n              <div className=\"row\">\n                <form style={{ display: \"flex\" }} onSubmit={handleSubmit}>\n                  <div className=\"col-10\" style={{ paddingRight: \"0px\" }}>\n                    <input\n                      onChange={(e) => setInputMessage(e.target.value)}\n                      value={inputMessage}\n                      type=\"text\"\n                      className=\"msginp\"\n                    ></input>\n                  </div>\n                  <div className=\"col-2 cola\">\n                    <button type=\"submit\" className=\"circleBtn\">\n                      <IoMdSend className=\"sendBtn\" />\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default UIChatbot;\n","/home/thanh86/python/ZALO/fastapi-reactjs/client/src/routes/index.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/DefaultLayout/index.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/DefaultLayout/Sidebar/index.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/index.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/HeaderOnly/index.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/components/Layout/components/Header/index.js",[],[],"/home/thanh86/python/ZALO/fastapi-reactjs/client/src/assets/images/index.js",[],[],{"ruleId":"88","severity":1,"message":"89","line":26,"column":6,"nodeType":"90","endLine":26,"endColumn":13,"suggestions":"91","suppressions":"92"},{"ruleId":"93","severity":1,"message":"94","line":58,"column":22,"nodeType":"95","messageId":"96","endLine":58,"endColumn":24,"suppressions":"97"},{"ruleId":"88","severity":1,"message":"98","line":89,"column":6,"nodeType":"90","endLine":89,"endColumn":21,"suggestions":"99","suppressions":"100"},{"ruleId":"101","severity":1,"message":"102","line":1,"column":8,"nodeType":"103","messageId":"104","endLine":1,"endColumn":31},{"ruleId":"88","severity":1,"message":"89","line":28,"column":6,"nodeType":"90","endLine":28,"endColumn":13,"suggestions":"105","suppressions":"106"},{"ruleId":"93","severity":1,"message":"94","line":60,"column":22,"nodeType":"95","messageId":"96","endLine":60,"endColumn":24,"suppressions":"107"},{"ruleId":"88","severity":1,"message":"98","line":91,"column":6,"nodeType":"90","endLine":91,"endColumn":21,"suggestions":"108","suppressions":"109"},{"ruleId":"101","severity":1,"message":"110","line":5,"column":10,"nodeType":"103","messageId":"104","endLine":5,"endColumn":15},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'img' and 'loadImage'. Either include them or remove the dependency array.","ArrayExpression",["111"],["112"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside",["113"],"React Hook useEffect has missing dependencies: 'img', 'imgH', and 'imgW'. Either include them or remove the dependency array.",["114"],["115"],"no-unused-vars","'ImageObjectDetectionCss' is defined but never used.","Identifier","unusedVar",["116"],["117"],["118"],["119"],["120"],"'axios' is defined but never used.",{"desc":"121","fix":"122"},{"kind":"123","justification":"124"},{"kind":"123","justification":"124"},{"desc":"125","fix":"126"},{"kind":"123","justification":"124"},{"desc":"121","fix":"127"},{"kind":"123","justification":"124"},{"kind":"123","justification":"124"},{"desc":"125","fix":"128"},{"kind":"123","justification":"124"},"Update the dependencies array to be: [image, img, loadImage]",{"range":"129","text":"130"},"directive","","Update the dependencies array to be: [result, image, img, imgW, imgH]",{"range":"131","text":"132"},{"range":"133","text":"130"},{"range":"134","text":"132"},[628,635],"[image, img, loadImage]",[2492,2507],"[result, image, img, imgW, imgH]",[712,719],[2576,2591]]