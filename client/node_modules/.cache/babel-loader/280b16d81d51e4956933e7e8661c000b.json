{"ast":null,"code":"var _jsxFileName = \"/home/thanhnd13/javascript/Reactjs/fastapi-reactjs/src/App.js\";\nimport axios from \"axios\";\nimport React, { Component, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      // Initially, no file is selected\n      selectedFile:\n      /* `null` is a placeholder for the file that will be uploaded. */\n      null\n    };\n\n    this.onFileChange = event => {\n      // Update the state\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.onFileUpload = async () => {\n      // Create an object of formData\n      const formData = new FormData(); // Update the formData object\n\n      formData.append(\"image\", this.state.selectedFile, this.state.selectedFile.name); // Details of the uploaded file\n\n      console.log(this.state.selectedFile); // Request made to the backend api\n      // Send formData object\n\n      const url = \"http://127.0.0.1:8000/objectdetection\";\n      let result = await axios.post(url, formData); // console.log(result);\n\n      formData.append(\"result\", result);\n      console.log(result);\n    };\n\n    this.fileData = () => {\n      if (this.state.selectedFile) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"File Details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"File Name: \", this.state.selectedFile.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"File Type: \", this.state.selectedFile.type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Last Modified:\", \" \", this.state.selectedFile.lastModifiedDate.toDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.selectedFile,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Results: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.onFileUpload.formData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Choose before Pressing the Upload button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Hello anh Danh :D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"File Upload using React!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: this.onFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.onFileUpload,\n          children: \"Upload!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), this.fileData()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["axios","React","Component","useState","App","state","selectedFile","onFileChange","event","setState","target","files","onFileUpload","formData","FormData","append","name","console","log","url","result","post","fileData","type","lastModifiedDate","toDateString","render"],"sources":["/home/thanhnd13/javascript/Reactjs/fastapi-reactjs/src/App.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { Component, useState } from \"react\";\n\nclass App extends Component {\n    \n    state = {\n        // Initially, no file is selected\n        selectedFile: /* `null` is a placeholder for the file that will be uploaded. */\n        null,\n    };\n\n    // On file select (from the pop up)\n    onFileChange = (event) => {\n        // Update the state\n        this.setState({ selectedFile: event.target.files[0] });\n    };\n\n    // On file upload (click the upload button)\n    onFileUpload = async () => {\n        // Create an object of formData\n        const formData = new FormData();\n\n        // Update the formData object\n        formData.append(\n            \"image\",\n            this.state.selectedFile,\n            this.state.selectedFile.name\n        );\n\n        // Details of the uploaded file\n        console.log(this.state.selectedFile);\n\n        // Request made to the backend api\n        // Send formData object\n        const url = \"http://127.0.0.1:8000/objectdetection\"\n        let result = await axios.post(url, formData);\n        // console.log(result);\n        formData.append(\n            \"result\",\n            result\n        )\n        console.log(result);\n    };\n\n    // File content to be displayed after\n    // file upload is complete\n    fileData = () => {\n        if (this.state.selectedFile) {\n            return (\n                <div>\n                    <h2>File Details:</h2>\n\n                    <p>File Name: {this.state.selectedFile.name}</p>\n\n                    <p>File Type: {this.state.selectedFile.type}</p>\n\n                    <p>\n                        Last Modified:{\" \"}\n                        {this.state.selectedFile.lastModifiedDate.toDateString()}\n                    </p>\n                    <img src={this.state.selectedFile} alt=\"\"/>\n                    <h2>Results: </h2>\n                    <p>\n                        {this.onFileUpload.formData}    \n                    </p>\n                    {/* <p>{this}</p> */}\n\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <br />\n                    <h4>Choose before Pressing the Upload button</h4>\n                </div>\n            );\n        }\n    };\n\n    render() {\n        return (\n            <div>\n                <h1>Hello anh Danh :D</h1>\n                <h3>File Upload using React!</h3>\n                <div>\n                    <input type=\"file\" onChange={this.onFileChange} />\n                    <button onClick={this.onFileUpload}>Upload!</button>\n                    \n                </div>\n                {this.fileData()}\n            </div>\n        );\n    }\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;EAAA;IAAA;IAAA,KAExBG,KAFwB,GAEhB;MACJ;MACAC,YAAY;MAAE;MACd;IAHI,CAFgB;;IAAA,KASxBC,YATwB,GASRC,KAAD,IAAW;MACtB;MACA,KAAKC,QAAL,CAAc;QAAEH,YAAY,EAAEE,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB;MAAhB,CAAd;IACH,CAZuB;;IAAA,KAexBC,YAfwB,GAeT,YAAY;MACvB;MACA,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB,CAFuB,CAIvB;;MACAD,QAAQ,CAACE,MAAT,CACI,OADJ,EAEI,KAAKV,KAAL,CAAWC,YAFf,EAGI,KAAKD,KAAL,CAAWC,YAAX,CAAwBU,IAH5B,EALuB,CAWvB;;MACAC,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWC,YAAvB,EAZuB,CAcvB;MACA;;MACA,MAAMa,GAAG,GAAG,uCAAZ;MACA,IAAIC,MAAM,GAAG,MAAMpB,KAAK,CAACqB,IAAN,CAAWF,GAAX,EAAgBN,QAAhB,CAAnB,CAjBuB,CAkBvB;;MACAA,QAAQ,CAACE,MAAT,CACI,QADJ,EAEIK,MAFJ;MAIAH,OAAO,CAACC,GAAR,CAAYE,MAAZ;IACH,CAvCuB;;IAAA,KA2CxBE,QA3CwB,GA2Cb,MAAM;MACb,IAAI,KAAKjB,KAAL,CAAWC,YAAf,EAA6B;QACzB,oBACI;UAAA,wBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAGI;YAAA,0BAAe,KAAKD,KAAL,CAAWC,YAAX,CAAwBU,IAAvC;UAAA;YAAA;YAAA;YAAA;UAAA,QAHJ,eAKI;YAAA,0BAAe,KAAKX,KAAL,CAAWC,YAAX,CAAwBiB,IAAvC;UAAA;YAAA;YAAA;YAAA;UAAA,QALJ,eAOI;YAAA,6BACmB,GADnB,EAEK,KAAKlB,KAAL,CAAWC,YAAX,CAAwBkB,gBAAxB,CAAyCC,YAAzC,EAFL;UAAA;YAAA;YAAA;YAAA;UAAA,QAPJ,eAWI;YAAK,GAAG,EAAE,KAAKpB,KAAL,CAAWC,YAArB;YAAmC,GAAG,EAAC;UAAvC;YAAA;YAAA;YAAA;UAAA,QAXJ,eAYI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAZJ,eAaI;YAAA,UACK,KAAKM,YAAL,CAAkBC;UADvB;YAAA;YAAA;YAAA;UAAA,QAbJ;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ;MAqBH,CAtBD,MAsBO;QACH,oBACI;UAAA,wBACI;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ;MAMH;IACJ,CA1EuB;EAAA;;EA4ExBa,MAAM,GAAG;IACL,oBACI;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAA,wBACI;UAAO,IAAI,EAAC,MAAZ;UAAmB,QAAQ,EAAE,KAAKnB;QAAlC;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAQ,OAAO,EAAE,KAAKK,YAAtB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ,EAQK,KAAKU,QAAL,EARL;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAYH;;AAzFuB;;AA4F5B,eAAelB,GAAf"},"metadata":{},"sourceType":"module"}